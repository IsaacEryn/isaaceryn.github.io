<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Progress Story | Practical Examples</title>
		<link rel="stylesheet" href="../styles/common.css" />
		<style>
			body {
				background: #0a0a0a;
			}

			/* Progress indicator */
			.progress-track {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				height: 4px;
				background: rgba(255, 255, 255, 0.1);
				z-index: 100;
			}

			.progress-fill {
				height: 100%;
				background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
				transform-origin: left;
				transform: scaleX(0);
			}

			/* Chapter navigation */
			.chapter-nav {
				position: fixed;
				left: 24px;
				top: 50%;
				transform: translateY(-50%);
				z-index: 100;
				display: flex;
				flex-direction: column;
				gap: 12px;
			}

			.chapter-dot {
				width: 12px;
				height: 12px;
				border-radius: 50%;
				background: rgba(255, 255, 255, 0.2);
				border: 2px solid transparent;
				cursor: pointer;
				transition: all 0.3s ease;
			}

			.chapter-dot.active {
				background: #3b82f6;
				border-color: #3b82f6;
				box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
			}

			.chapter-dot:hover {
				transform: scale(1.3);
			}

			/* Header */
			.page-header {
				padding: 100px 24px 80px;
				text-align: center;
				min-height: 80vh;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}

			.back-link {
				position: absolute;
				top: 24px;
				left: 24px;
				font-size: 14px;
				color: #64748b;
			}

			.page-header h1 {
				font-size: clamp(40px, 8vw, 72px);
				font-weight: 800;
				margin-bottom: 24px;
				background: linear-gradient(135deg, #fff 0%, #94a3b8 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
			}

			.page-header p {
				font-size: 20px;
				color: #64748b;
				max-width: 500px;
			}

			.scroll-hint {
				margin-top: 60px;
				color: #3b82f6;
				font-size: 14px;
				animation: pulse 2s infinite;
			}

			@keyframes pulse {
				0%, 100% { opacity: 0.5; }
				50% { opacity: 1; }
			}

			/* Story chapters */
			.chapter {
				min-height: 100vh;
				padding: 120px 24px;
				display: flex;
				align-items: center;
				position: relative;
			}

			.chapter-content {
				max-width: 800px;
				margin: 0 auto;
				opacity: 0;
				transform: translateY(60px);
				transition: opacity 0.8s ease, transform 0.8s ease;
			}

			.chapter-content.is-visible {
				opacity: 1;
				transform: translateY(0);
			}

			.chapter-number {
				font-size: 120px;
				font-weight: 800;
				color: rgba(59, 130, 246, 0.1);
				line-height: 1;
				margin-bottom: -40px;
			}

			.chapter h2 {
				font-size: clamp(32px, 5vw, 48px);
				margin-bottom: 24px;
			}

			.chapter p {
				font-size: 18px;
				line-height: 1.8;
				color: #94a3b8;
			}

			.chapter-image {
				margin-top: 40px;
				border-radius: 16px;
				overflow: hidden;
				background: linear-gradient(135deg, #1e293b, #0f172a);
				aspect-ratio: 16/9;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 48px;
			}

			/* Alternating layouts */
			.chapter:nth-child(even) .chapter-content {
				text-align: right;
			}

			.chapter:nth-child(even) .chapter-number {
				text-align: right;
			}

			/* Stats highlight */
			.stat-highlight {
				display: inline-block;
				font-size: 48px;
				font-weight: 800;
				background: linear-gradient(135deg, #3b82f6, #8b5cf6);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				margin: 16px 0;
			}

			/* Footer */
			.story-footer {
				padding: 120px 24px;
				text-align: center;
				background: linear-gradient(180deg, transparent, rgba(59, 130, 246, 0.05));
			}

			.story-footer h2 {
				font-size: clamp(28px, 5vw, 44px);
				margin-bottom: 16px;
			}

			.story-footer p {
				font-size: 18px;
				color: #94a3b8;
				margin-bottom: 32px;
			}

			footer {
				padding: 40px 24px;
				text-align: center;
				border-top: 1px solid rgba(148, 163, 184, 0.1);
			}

			footer p {
				font-size: 14px;
				color: #64748b;
			}

			/* Responsive */
			@media (max-width: 768px) {
				.chapter-nav {
					display: none;
				}

				.chapter-number {
					font-size: 80px;
					margin-bottom: -20px;
				}

				.chapter:nth-child(even) .chapter-content {
					text-align: left;
				}

				.chapter:nth-child(even) .chapter-number {
					text-align: left;
				}
			}

			@supports (animation-timeline: scroll()) {
				.progress-fill {
					animation: fill-bar linear both;
					animation-timeline: scroll();
				}
			}

			@keyframes fill-bar {
				from { transform: scaleX(0); }
				to { transform: scaleX(1); }
			}

			@media (prefers-reduced-motion: reduce) {
				.progress-fill {
					transform: scaleX(1) !important;
				}

				.chapter-content {
					opacity: 1;
					transform: none;
				}

				.scroll-hint {
					animation: none;
				}
			}
		</style>
	</head>
	<body>
		<a class="skip-link" href="#story">Skip to story</a>

		<!-- Progress bar -->
		<div class="progress-track" aria-hidden="true">
			<div class="progress-fill"></div>
		</div>

		<!-- Chapter navigation -->
		<nav class="chapter-nav" aria-label="Chapter navigation">
			<button class="chapter-dot active" data-chapter="0" aria-label="Introduction"></button>
			<button class="chapter-dot" data-chapter="1" aria-label="Chapter 1"></button>
			<button class="chapter-dot" data-chapter="2" aria-label="Chapter 2"></button>
			<button class="chapter-dot" data-chapter="3" aria-label="Chapter 3"></button>
			<button class="chapter-dot" data-chapter="4" aria-label="Conclusion"></button>
		</nav>

		<header class="page-header" id="chapter-0">
			<a href="../index.html" class="back-link">â† Back to demos</a>
			<h1>Our Journey</h1>
			<p>
				Scroll through our story of growth and innovation.
				<br /><span lang="ko">(ì„±ì¥ê³¼ í˜ì‹ ì˜ ì—¬ì •ì„ ìŠ¤í¬ë¡¤ë¡œ ê²½í—˜í•˜ì„¸ìš”.)</span>
			</p>
			<div class="scroll-hint">â†“ Scroll to begin</div>
		</header>

		<main id="story">
			<section class="chapter" id="chapter-1">
				<div class="chapter-content" data-reveal>
					<div class="chapter-number">01</div>
					<h2>The Beginning</h2>
					<p>
						It started with a simple idea: make the web more engaging.
						We believed that beautiful animations could transform how users
						experience digital content. That belief drove us forward.
						<br /><br />
						<span lang="ko">
							ê°„ë‹¨í•œ ì•„ì´ë””ì–´ë¡œ ì‹œì‘í–ˆìŠµë‹ˆë‹¤: ì›¹ì„ ë” ë§¤ë ¥ì ìœ¼ë¡œ ë§Œë“¤ì.
							ì•„ë¦„ë‹¤ìš´ ì• ë‹ˆë©”ì´ì…˜ì´ ì‚¬ìš©ìì˜ ë””ì§€í„¸ ê²½í—˜ì„ ë³€í™”ì‹œí‚¬ ìˆ˜ ìˆë‹¤ê³  ë¯¿ì—ˆìŠµë‹ˆë‹¤.
						</span>
					</p>
					<div class="chapter-image">ğŸŒ±</div>
				</div>
			</section>

			<section class="chapter" id="chapter-2">
				<div class="chapter-content" data-reveal>
					<div class="chapter-number">02</div>
					<h2>Growing Fast</h2>
					<p>
						Within our first year, we helped transform hundreds of websites.
						Our team grew, our tools improved, and our impact expanded.
					</p>
					<div class="stat-highlight" data-counter="500">0</div>
					<p>Projects completed in year one.</p>
					<p>
						<span lang="ko">
							ì²« í•´ì— ìˆ˜ë°± ê°œì˜ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë³€í™”ì‹œí‚¤ëŠ” ë° ê¸°ì—¬í–ˆìŠµë‹ˆë‹¤.
							íŒ€ì´ ì„±ì¥í•˜ê³ , ë„êµ¬ê°€ ê°œì„ ë˜ë©°, ì˜í–¥ë ¥ì´ í™•ëŒ€ë˜ì—ˆìŠµë‹ˆë‹¤.
						</span>
					</p>
				</div>
			</section>

			<section class="chapter" id="chapter-3">
				<div class="chapter-content" data-reveal>
					<div class="chapter-number">03</div>
					<h2>Going Global</h2>
					<p>
						Our solutions reached users across every continent.
						From startups to enterprises, everyone deserves great UX.
					</p>
					<div class="stat-highlight" data-counter="50">0</div>
					<p>Countries with happy customers.</p>
					<p>
						<span lang="ko">
							ìš°ë¦¬ì˜ ì†”ë£¨ì…˜ì´ ëª¨ë“  ëŒ€ë¥™ì˜ ì‚¬ìš©ìì—ê²Œ ë„ë‹¬í–ˆìŠµë‹ˆë‹¤.
							ìŠ¤íƒ€íŠ¸ì—…ë¶€í„° ê¸°ì—…ê¹Œì§€, ëª¨ë“  ì´ê°€ í›Œë¥­í•œ UXë¥¼ ëˆ„ë¦´ ìê²©ì´ ìˆìŠµë‹ˆë‹¤.
						</span>
					</p>
				</div>
			</section>

			<section class="chapter" id="chapter-4">
				<div class="chapter-content" data-reveal>
					<div class="chapter-number">04</div>
					<h2>Looking Ahead</h2>
					<p>
						The future is scroll-driven. With CSS animations becoming native,
						performance keeps getting better. We're excited for what's next.
						<br /><br />
						<span lang="ko">
							ë¯¸ë˜ëŠ” ìŠ¤í¬ë¡¤ ê¸°ë°˜ì…ë‹ˆë‹¤. CSS ì• ë‹ˆë©”ì´ì…˜ì´ ë„¤ì´í‹°ë¸Œê°€ ë˜ë©´ì„œ
							ì„±ëŠ¥ì´ ê³„ì† í–¥ìƒë˜ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ê°€ ê¸°ëŒ€ë©ë‹ˆë‹¤.
						</span>
					</p>
					<div class="chapter-image">ğŸš€</div>
				</div>
			</section>
		</main>

		<section class="story-footer">
			<h2>Join Our Journey</h2>
			<p>
				Be part of the next chapter.
				<br /><span lang="ko">(ë‹¤ìŒ ì±•í„°ì˜ ì¼ë¶€ê°€ ë˜ì„¸ìš”.)</span>
			</p>
			<button class="btn">Get Started</button>
		</section>

		<footer>
			<p>Progress Story Demo - Scroll-Driven Animation</p>
		</footer>

		<script>
			const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
			const progressFill = document.querySelector('.progress-fill');
			const dots = document.querySelectorAll('.chapter-dot');
			const chapters = document.querySelectorAll('[id^="chapter-"]');
			const reveals = document.querySelectorAll('[data-reveal]');
			const counters = document.querySelectorAll('[data-counter]');

			// Progress bar (fallback for non-CSS timeline)
			if (!CSS.supports('animation-timeline', 'scroll()')) {
				function updateProgress() {
					const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
					const progress = scrollHeight > 0 ? window.scrollY / scrollHeight : 0;
					progressFill.style.transform = `scaleX(${progress})`;
				}
				window.addEventListener('scroll', updateProgress, { passive: true });
				updateProgress();
			}

			// Chapter dots navigation
			dots.forEach(dot => {
				dot.addEventListener('click', () => {
					const chapterId = `chapter-${dot.dataset.chapter}`;
					document.getElementById(chapterId)?.scrollIntoView({ behavior: 'smooth' });
				});
			});

			// Update active dot on scroll
			const chapterObserver = new IntersectionObserver(
				(entries) => {
					entries.forEach(entry => {
						if (entry.isIntersecting) {
							const index = Array.from(chapters).indexOf(entry.target);
							dots.forEach((dot, i) => {
								dot.classList.toggle('active', i === index);
							});
						}
					});
				},
				{ threshold: 0.5 }
			);

			chapters.forEach(ch => chapterObserver.observe(ch));

			// Reveal animations
			if (prefersReducedMotion) {
				reveals.forEach(r => r.classList.add('is-visible'));
				counters.forEach(c => {
					c.textContent = c.dataset.counter;
				});
			} else {
				const revealObserver = new IntersectionObserver(
					(entries, obs) => {
						entries.forEach(entry => {
							if (entry.isIntersecting) {
								entry.target.classList.add('is-visible');
								obs.unobserve(entry.target);
							}
						});
					},
					{ threshold: 0.3 }
				);

				reveals.forEach(r => revealObserver.observe(r));

				// Counter animation
				const counterObserver = new IntersectionObserver(
					(entries, obs) => {
						entries.forEach(entry => {
							if (entry.isIntersecting) {
								const target = parseInt(entry.target.dataset.counter);
								let current = 0;
								const step = target / 60;
								const animate = () => {
									current += step;
									if (current < target) {
										entry.target.textContent = Math.floor(current);
										requestAnimationFrame(animate);
									} else {
										entry.target.textContent = target;
									}
								};
								animate();
								obs.unobserve(entry.target);
							}
						});
					},
					{ threshold: 0.5 }
				);

				counters.forEach(c => counterObserver.observe(c));
			}
		</script>
	</body>
</html>
